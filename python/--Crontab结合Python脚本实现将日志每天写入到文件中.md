# --Crontab结合Python脚本实现将日志每天写入到文件中

***\*一、前述\****

实际工作中将Python脚本每天定时写入到日志文件中的使用场景还是蛮多的，有很多种方法可以实现这种效果。本文选择一种方式实现，特将实现细节做如下分享，不当之处烦请指正。

***\*二、具体\****

***\*1、python脚本需要在每个Python文件上面添加logger输出。\****

如下：

![img](https://images2018.cnblogs.com/blog/1250469/201808/1250469-20180823142708469-351481811.png)

![img](https://images2018.cnblogs.com/blog/1250469/201808/1250469-20180823142820436-1332701178.png)

 

 

***\*2、Shell脚本中添加后台执行机制。\****

![img](https://images2018.cnblogs.com/blog/1250469/201808/1250469-20180824151010999-1158622867.png)

 

***\*备注：\****

1、nohup很关键 这里面千万不要写错格式 本人就因为写成 nohup .... >>file & 这种格式导致明明手动执行有日志输出 但是放入到定时任务里面就没有日志了。

2、这里面的软件运行环境如.../../python 一定要写成绝对路径，即便在环境变量李配置了，因为Crontab识别不了环境变量。

 

***\*3、crontab定时任务如图：\****

![img](https://images2018.cnblogs.com/blog/1250469/201808/1250469-20180823143319300-64111127.png)

3天一执行。

***\*另外千万注意在编辑时别误按crontab -r (删除全部定时任务)因为crontab -e 是编辑 e 和r字母挨着 编辑时一定要有使命感 小心点 不要问我怎么知道。一切都是泪~~\****