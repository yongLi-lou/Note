使用 WinDbg 分析内存暴涨问题时，可以遵循以下步骤，以找到内存泄漏或异常分配的根本原因：

### 1. 收集内存转储

在应用内存暴涨或崩溃时生成内存转储文件，可以使用以下方法之一：

- **Task Manager**：在 Windows 任务管理器中右键点击进程并选择“创建转储文件”。
- **ProcDump**：使用 `ProcDump` 工具生成内存转储，尤其适合长时间的内存监控。
- **自动转储**：可以配置系统在异常发生时自动生成转储。

### 2. 加载内存转储到 WinDbg

启动 WinDbg 并加载符号文件（使用 `.sympath` 命令设置符号路径）。然后，使用 `File > Open Crash Dump` 打开生成的转储文件。

### 3. 检查内存使用情况

分析内存占用情况以确定异常对象或模块：

- `!address -summary`：显示内存分配的摘要，以便找到大块内存使用的来源。
- `!heap -s`：获取所有堆的摘要，查看是否有异常增长的堆。
- `!dumpheap -stat`（.NET 应用）：列出托管堆中所有对象的实例数量和总大小，查找数量巨大或占用内存较大的对象类型。

### 4. 定位内存泄漏对象

找到分配最多内存的对象后，进一步定位内存泄漏原因：

- `!gcroot <对象地址>`（.NET 应用）：跟踪对象的引用链，找出对象为何无法释放。
- `!objsize <对象地址>`：显示对象占用的总内存大小。
- `!eeheap -gc`（.NET 应用）：查看托管堆的使用情况。

### 5. 分析堆栈和线程状态

- `~*kb`：列出所有线程的堆栈回溯，有助于确定内存泄漏是否与特定线程或方法相关。
- `!clrstack`（.NET 应用）：检查托管代码的堆栈，定位问题代码。

### 6. 其他常用命令

- `!vmmap`：查看内存的虚拟内存映射，确认分配在何种类型的内存区域（如堆、堆栈、代码段等）。
- `!analyze -v`：运行自动分析命令，获取 WinDbg 的诊断信息，可能包括可疑的模块或调用栈信息。

### 7. 解决方案

分析后根据对象生命周期或引用链定位代码中的泄漏原因，可以通过以下方法解决：

- 确保对象的及时释放或调用 `Dispose()` 方法。
- 避免不必要的全局引用或静态对象。
- 优化对象的生命周期管理，避免不必要的长时间驻留内存。

这样逐步排查，通常能找到内存暴涨的原因，并定位到具体的代码位置。